<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>JUST COM</title>
  <style>
    :root{
      --bg:#0d0f12;--card:#11151b;--line:#1f2530;--text:#e8eef7;--muted:#9fb0c6;--accent:#1363df;--sold:#ff4444;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Prompt,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%}
    .wrap{max-width:1200px;margin:0 auto;padding:14px 16px}
    .banner{width:100%;height:auto;border-bottom:1px solid var(--line);display:block} /* <-- ‡πÑ‡∏°‡πà sticky ‡πÅ‡∏•‡πâ‡∏ß */
    h1{margin:10px 0 4px 0;font-size:22px}
    .sub{color:var(--muted);font-size:14px;margin-bottom:14px}
    .toolbar{display:flex;gap:10px;margin:14px 0}
    input,select{background:#0f141c;color:var(--text);border:1px solid var(--line);padding:10px 12px;border-radius:10px}
    input{flex:1}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;position:relative}
    .thumb{width:100%;aspect-ratio:16/9;background:#0b1118}
    .ct{padding:14px}
    .title{font-weight:800;margin-bottom:6px}
    .muted{color:var(--muted);font-size:13px;margin-bottom:8px}
    .price{font-weight:900}
    .badge{display:inline-flex;align-items:center;gap:6px;background:#fff;color:#111;padding:4px 10px;border-radius:999px;border:1px solid #111;font-weight:900;font-size:12px}
    .row{display:flex;gap:8px;align-items:center;margin-top:8px}
    .buybtn{display:inline-flex;align-items:center;gap:8px;background:#fff;color:#111;border:1px solid #111;padding:10px 12px;border-radius:10px;font-weight:900}
    .ribbon{position:absolute;left:12px;top:12px;transform:rotate(-20deg);background:var(--sold);color:#fff;padding:6px 56px;border:1px solid #000;box-shadow:0 6px 16px rgba(0,0,0,.35);font-weight:900}
    .newtag{position:absolute;right:10px;top:10px;background:#0ea5e9;border:1px solid #0b465c;color:#001e2a;padding:3px 8px;border-radius:999px;font-size:12px;font-weight:900}
    /* lightbox */
    #lightbox{position:fixed;inset:0;background:rgba(7,10,15,.85);display:none;align-items:center;justify-content:center;padding:18px;z-index:50}
    #lightbox.open{display:flex}
    .lb{max-width:1100px;width:100%;background:#0f141b;border:1px solid #1b2430;border-radius:16px;overflow:hidden;display:grid;grid-template-columns:minmax(360px,1fr) 360px}
    .lb-left{background:#0b1118;padding:14px 14px 0 14px;display:flex;flex-direction:column}
    .lb-main{background:#0b1118;border:1px solid #101722;border-radius:10px;display:flex;align-items:center;justify-content:center;aspect-ratio:16/10}
    .lb-main img{max-height:70vh;object-fit:contain}
    .lb-thumbs{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:8px;margin:10px 0 14px}
    .lb-thumbs img{width:100%;aspect-ratio:1/1;border:1px solid #101722;border-radius:8px;background:#000;cursor:pointer;padding:3px}
    .lb-right{padding:14px 16px}
    .lb-title{font-weight:900;margin-bottom:8px}
    .lb-spec{display:grid;gap:6px;color:var(--muted);font-size:14px}
    .lb-close{position:absolute;right:8px;top:8px;background:#0c121a;border:1px solid #1b2430;color:#fff;border-radius:999px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}
    .empty{opacity:.7;text-align:center;margin:40px 0}
    footer{margin:28px 0 60px;color:var(--muted);text-align:center}
  </style>
</head>
<body>

  <!-- ‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå (‡πÑ‡∏°‡πà sticky) -->
  <img class="banner" src="images/banner.png" alt="Banner">

  <div class="wrap">
    <h1>JUST COM</h1>
    <div class="sub">‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏°‡∏∑‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á-‡∏°‡∏∑‡∏≠‡∏™‡∏≠‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</div>

    <div class="toolbar">
      <input id="q" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ‡∏ä‡∏∑‡πà‡∏≠/‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå/‡∏£‡∏∏‡πà‡∏ô...">
      <select id="cat">
        <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
        <option>‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏à‡∏≠ (GPU)</option><option>‡∏ã‡∏µ‡∏û‡∏µ‡∏¢‡∏π (CPU)</option>
        <option>‡πÄ‡∏°‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î (Mainboard)</option><option>‡πÅ‡∏£‡∏° (RAM)</option>
        <option>‡∏™‡∏ï‡∏≠‡πÄ‡∏£‡∏à (SSD/HDD)</option><option>‡∏û‡∏≤‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢ (PSU)</option>
      </select>
      <select id="status">
        <option value="">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="active">active</option>
        <option value="hidden">hidden</option>
        <option value="sold">sold</option>
      </select>
    </div>

    <div id="grid" class="grid"></div>
    <div id="empty" class="empty" style="display:none">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô CSV</div>
    <footer>¬© Copyright 2025 All Rights Reserved By Just Com.</footer>
  </div>

  <!-- lightbox -->
  <div id="lightbox" role="dialog" aria-modal="true">
    <div class="lb">
      <div class="lb-left">
        <div class="lb-main"><img id="lb-mainimg" src="" alt=""></div>
        <div id="lb-thumbs" class="lb-thumbs"></div>
      </div>
      <div class="lb-right">
        <div id="lb-close" class="lb-close" title="‡∏õ‡∏¥‡∏î">‚úï</div>
        <div id="lb-title" class="lb-title"></div>
        <div id="lb-spec" class="lb-spec"></div>
        <div id="lb-desc" style="margin-top:8px"></div>
      </div>
    </div>
  </div>

<script>
/* ========= CONFIG ========= */
const CONFIG = {
  mode: "csv",
  csvPath: "data/justcom_inventory.csv",
  defaultOrderTarget: "facebook",
  IMG_PREFIX: "images/"  // üëà ‡∏ñ‡πâ‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡πÄ‡∏≠‡∏¥‡∏£‡πå‡∏ò‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∑‡πà‡∏ô ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‡πÄ‡∏ä‡πà‡∏ô "Images/" ‡∏´‡∏£‡∏∑‡∏≠ ""(‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà root)
};
/* ========= utils ========= */
function csvToArray(str, delim=","){
  const rows = str.split(/\r?\n/).filter(x=>x.trim().length);
  if(!rows.length) return [];
  const headers = rows.shift().split(delim).map(h=>h.trim());
  return rows.map(row=>{
    const cols=[]; let cur="",inQ=false;
    for(let i=0;i<row.length;i++){
      const c=row[i];
      if(c=='"'){inQ=!inQ;}
      else if(c===delim && !inQ){cols.push(cur);cur="";}
      else cur+=c;
    }
    cols.push(cur);
    const obj={};
    headers.forEach((h,i)=>obj[h]=(cols[i]??"").trim());
    return obj;
  });
}
function fmt(n){ try{return Number(n).toLocaleString('th-TH')}catch(e){return n}}
function listify(s){
  if(!s) return [];
  return String(s).replace(/^["']|["']$/g,"")
    .split(/[,Ôºå„ÄÅ\n]+/).map(x=>x.trim()).filter(Boolean);
}
function parseDate(s){ if(!s) return 0; const d=new Date((s+"").trim().replace(" ","T")); return isNaN(d)?0:d.getTime(); }
function isNewItem(item){
  const tags=(item["‡πÅ‡∏ó‡πá‡∏Å (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ,)"]||"").toLowerCase();
  if(tags.includes("new")) return true;
  const d=item["‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á (YYYY-MM-DD)"]||"";
  if(!/^\d{4}-\d{2}-\d{2}$/.test(d)) return false;
  const diff=(Date.now()-new Date(d+"T00:00:00"))/86400000;
  return diff<=14;
}
/* build image list from item */
function imagesFromItem(it){
  const out=[];
  const add=(field)=>{
    listify(it[field]).forEach(t=>{
      // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô http ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏á ‡πÜ / ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô prefix ‡πÉ‡∏´‡πâ
      out.push(/^https?:\/\//i.test(t)?t:(CONFIG.IMG_PREFIX + t.replace(/^\/+/,"")));
    });
  };
  add("‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å");
  add("‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ,)");
  return [...new Set(out)];
}
/* choose buy link (‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) */
function pickBuyLink(item){
  const PAGE_URL = item["‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå Facebook (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)"] || "https://m.me/justcomth";
  const dest = (item["‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πâ‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà (facebook|line|custom_url)"]||CONFIG.defaultOrderTarget).toLowerCase();
  const custom = item["‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å custom_url ‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà)"] || "";
  if(dest==="facebook") return PAGE_URL;
  if(dest==="line") return "https://line.me/R/ti/p/~your_line_id";
  if(dest==="custom_url") return custom || PAGE_URL;
  return PAGE_URL;
}
/* ========= lightbox ========= */
const lb={root:null,main:null,thumbs:null,title:null,spec:null,desc:null,
  open(item){
    const imgs = imagesFromItem(item);
    this.title.textContent = item["‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"] || item["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"] || item["SKU"] || "";
    this.main.src = imgs[0] || "";
    this.thumbs.innerHTML = "";
    imgs.forEach((u,i)=>{
      const im=document.createElement("img"); im.src=u; im.alt="img"+i;
      im.addEventListener("click",()=>this.main.src=u);
      this.thumbs.appendChild(im);
    });
    this.spec.innerHTML = [
      item["‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå"]?`<div><b>‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå:</b> ${item["‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå"]}</div>`:"",
      item["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"]?`<div><b>‡∏£‡∏∏‡πà‡∏ô:</b> ${item["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"]}</div>`:"",
      item["‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô (‡∏ß‡∏±‡∏ô)"]?`<div><b>‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô:</b> ${item["‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô (‡∏ß‡∏±‡∏ô)"]} ‡∏ß‡∏±‡∏ô</div>`:"",
      item["‡∏£‡∏≤‡∏Ñ‡∏≤ (THB)"]?`<div><b>‡∏£‡∏≤‡∏Ñ‡∏≤:</b> ${fmt(item["‡∏£‡∏≤‡∏Ñ‡∏≤ (THB)"])} ‡∏ø</div>`:""
    ].filter(Boolean).join("");
    this.desc.textContent = item["‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"]||"";
    this.root.classList.add("open");
  },
  close(){ this.root.classList.remove("open"); this.main.src=""; this.thumbs.innerHTML=""; this.spec.innerHTML=""; this.desc.textContent=""; }
};
function initLightbox(){
  lb.root=document.getElementById("lightbox");
  lb.main=document.getElementById("lb-mainimg");
  lb.thumbs=document.getElementById("lb-thumbs");
  lb.title=document.getElementById("lb-title");
  lb.spec=document.getElementById("lb-spec");
  lb.desc=document.getElementById("lb-desc");
  document.getElementById("lb-close").addEventListener("click",()=>lb.close());
  lb.root.addEventListener("click",(e)=>{ if(e.target===lb.root) lb.close(); });
}
/* ========= render ========= */
function render(items){
  const grid=document.getElementById("grid");
  const empty=document.getElementById("empty");
  grid.innerHTML="";
  if(!items.length){ empty.style.display="block"; return; }
  empty.style.display="none";

  items.forEach(item=>{
    if((item["‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (active|hidden|sold)"]||"").toLowerCase()==="hidden") return;
    const imgs = imagesFromItem(item);
    const cover = imgs[0] || "";
    const status = (item["‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (active|hidden|sold)"]||"active").toLowerCase();
    const price = item["‡∏£‡∏≤‡∏Ñ‡∏≤ (THB)"]? fmt(item["‡∏£‡∏≤‡∏Ñ‡∏≤ (THB)"])+" ‡∏ö‡∏≤‡∏ó" : "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤";
    const b1 = item["‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"]?`<span class="badge">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${item["‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"]}</span>`:"";
    const b2 = item["‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô (‡∏ß‡∏±‡∏ô)"]?`<span class="badge">‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô ${item["‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô (‡∏ß‡∏±‡∏ô)"]} ‡∏ß‡∏±‡∏ô</span>`:"";

    const card=document.createElement("div");
    card.className="card";
    card.innerHTML = `
      ${status==="sold"?`<div class="ribbon">SOLD OUT</div>`:""}
      ${isNewItem(item)?`<div class="newtag">NEW</div>`:""}
      ${cover?`<img class="thumb" src="${cover}" alt="">`:`<div class="thumb"></div>`}
      <div class="ct">
        <div class="title">${item["‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"]||item["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"]||item["SKU"]||"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠"}</div>
        <div class="muted">${item["‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå"]||""} ${item["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"]?("‚Ä¢ "+item["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"]):""}</div>
        <div class="price">${price}</div>
        <div class="row">${b1}${b2}</div>
        <div class="row">
          <a class="buybtn" href="${pickBuyLink(item)}" target="_blank" rel="noopener">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
          <span class="badge">üñºÔ∏è ${imgs.length}</span>
        </div>
      </div>`;
    card.addEventListener("click",()=>lb.open(item));
    grid.appendChild(card);
  });
}
/* ========= boot ========= */
async function boot(){
  initLightbox();
  const q=document.getElementById("q");
  const cat=document.getElementById("cat");
  const status=document.getElementById("status");

  async function loadData(){
    const res=await fetch(CONFIG.csvPath+(CONFIG.csvPath.includes("?")?"&":"?")+"v="+Date.now());
    const text=await res.text();
    return csvToArray(text);
  }
  function apply(list){
    const qv=q.value.trim().toLowerCase();
    const cv=cat.value.trim();
    const sv=status.value.trim().toLowerCase();
    let items=[...list];

    if(qv) items = items.filter(it=>{
      const hay=[it["‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"],it["‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå"],it["‡∏£‡∏∏‡πà‡∏ô‡∏¢‡πà‡∏≠‡∏¢"],it["‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà"],it["‡πÅ‡∏ó‡πá‡∏Å (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ,)"],it["SKU"]]
        .join(" ").toLowerCase();
      return hay.includes(qv);
    });
    if(cv) items = items.filter(it=>(it["‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà"]||"")===cv);
    if(sv) items = items.filter(it=>(it["‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (active|hidden|sold)"]||"").toLowerCase()===sv);

    // sort: active > recent date > price desc
    items.sort((a,b)=>{
      const sa=((a["‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (active|hidden|sold)"]||"").toLowerCase()==="sold")?1:0;
      const sb=((b["‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (active|hidden|sold)"]||"").toLowerCase()==="sold")?1:0;
      if(sa!==sb) return sa-sb;
      const da=parseDate(a["‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (YYYY-MM-DD HH:MM)"])||parseDate(a["‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á (YYYY-MM-DD)"]);
      const db=parseDate(b["‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (YYYY-MM-DD HH:MM)"])||parseDate(b["‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á (YYYY-MM-DD)"]);
      if(da!==db) return db-da;
      const pa=Number(a["‡∏£‡∏≤‡∏Ñ‡∏≤ (THB)"]||0), pb=Number(b["‡∏£‡∏≤‡∏Ñ‡∏≤ (THB)"]||0);
      return pb-pa;
    });
    render(items);
  }

  const data = await loadData();
  apply(data);
  q.addEventListener("input",()=>apply(data));
  cat.addEventListener("change",()=>apply(data));
  status.addEventListener("change",()=>apply(data));
}
boot();
</script>
</body>
</html>
